name: "Handle Git Submodules"
description: "Fetch, sync, and update Git submodules"
author: "Gaurav Mishra"

inputs:
  branch:
    description: "Branch to checkout in the submodules"
    default: "main"
    required: false

runs:
  using: "composite"
  steps:
    - run: ls -R .github/actions/handle-submodules/scripts/
      shell: bash

    - name: Show current working directory
      run: pwd
      shell: bash

    - run: ./scripts/handle_submodules.sh ${{ inputs.branch }}
      working-directory: .github/actions/handle-submodules
      shell: bash
